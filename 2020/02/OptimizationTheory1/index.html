<!DOCTYPE html>
<html lang="zh-CN">


<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/icon/titleIcon.png">
  <link rel="icon" type="image/png" href="/img/icon/titleIcon.png">
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="author" content="Coumarin">
  
    <meta name="description" content="Coumarin">
  
  
    <meta name="keywords" content="Optimization Theory," />
  
  <meta http-equiv="Cache-Control" content="no-transform" />
  <meta http-equiv="Cache-Control" content="no-siteapp" />
  <title>最优化问题 ~ Coumarin</title>
  <link rel="stylesheet" href="https://cdn.staticfile.org/font-awesome/5.10.0/css/all.min.css"  >
<link rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/4.3.1/css/bootstrap.min.css"  >
<link rel="stylesheet" href="https://cdn.staticfile.org/mdbootstrap/4.8.7/css/mdb.min.css"  >
<link rel="stylesheet" href="https://cdn.staticfile.org/github-markdown-css/3.0.1/github-markdown.min.css"  >

<link rel="stylesheet" href="//at.alicdn.com/t/font_1067060_qzomjdt8bmp.css">


  <link rel="stylesheet" href="/lib/prettify/tomorrow-night-eighties.min.css"  >


  <link rel="stylesheet" href="https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.css"  >

<link rel="stylesheet" href="/css/main.css"  >
<script src="https://cdn.staticfile.org/jquery/3.4.1/jquery.min.js" ></script>
  <style type="text/css">
    .banner-bg {
      
      background-position: center;
      background-repeat: repeat-y;
      background-size: cover;
      background-attachment: fixed;
    }
  </style>
<meta name="generator" content="Hexo 4.2.1"></head>

<body class="banner-bg">
  <header style="height: 70vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand"
       href="/">&nbsp;<strong>Coumarin</strong>&nbsp;</a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
          <li class="nav-item">
            <a class="nav-link" href="/">首页</a>
          </li>
        
          
          
          
          
          <li class="nav-item">
            <a class="nav-link" href="/archives/">归档</a>
          </li>
        
          
          
          
          
          <li class="nav-item">
            <a class="nav-link" href="/categories/">分类</a>
          </li>
        
          
          
          
          
          <li class="nav-item">
            <a class="nav-link" href="/tags/">标签</a>
          </li>
        
          
          
          
          
          <li class="nav-item">
            <a class="nav-link" href="/links/">友链</a>
          </li>
        
          
          
          
          
          <li class="nav-item">
            <a class="nav-link" href="/about/">关于</a>
          </li>
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" data-toggle="modal" data-target="#modalSearch">&nbsp;&nbsp;<i
                class="iconfont icon-search"></i>&nbsp;&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>


</nav>

    <div class="view intro-2 rgba-black-slight" id="background">
      <div class="full-bg-img">
        <div class="mask flex-center">
          <div class="container text-center white-text fadeInUp">
            <span class="h2" id="subtitle">
              
            </span>
            
              <br>
              <p class="mt-3">
                <i class="far fa-calendar-alt"></i>
                <span class="post-date">2020/02/26&nbsp;|&nbsp;</span>
                <i class="far fa-chart-bar"></i>
                <span class="post-count">1.8k</span>字&nbsp;|&nbsp;
                <i class="far fa-clock"></i>
                <span class="post-count">8</span>分钟
                
                  <span id="busuanzi_container_page_pv" style="display:none">
                    &nbsp;|&nbsp;
                    <i class="far fa-eye"></i>
                    <span id="busuanzi_value_page_pv"></span>次
                  </span>
                
              </p>
            
          </div>
          
        </div>
      </div>
    </div>
  </header>
  <main id="mainContent" class="rgba-black-slight">
    
      

<div class="container-fluid">
  <div class="row">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-md">
      <div class="py-5 z-depth-3" id="board">
        <div class="post-content mx-auto" id="post">
          <div class="markdown-body">
            <p>本文基本上是老师的讲义, 少部分为自己理解或修改.</p>
<h1 id="求最小-大-值问题"><a href="#求最小-大-值问题" class="headerlink" title="求最小 (大) 值问题"></a>求最小 (大) 值问题</h1><p>\begin{equation}\label{equ:OptPro}<br>    \min_{x \in \R^n} f(x),\quad \underset{\text{(subject to)}}{\st} x \in X.<br>\end{equation}</p>
<p>其中:</p>
<ul>
<li>$n$: 维数;</li>
<li>$x$: $x = (x_1, x_2, \cdots, x_n) \in \R^n$ 为 (优化) 变量;</li>
<li>$f$: $\R^n \to \R$ 单值函数, 为目标 (函数);</li>
<li>$X$: $X \subset \R^n$ 为约束集 / 可行域.</li>
</ul>
<p>若 $X = \R^n$, 问题 \eqref{equ:OptPro} 变成了 $\displaystyle\min_{x \in \R^n} f(x)$ 称为无约束优化问题.</p>
<p>若 $X \subsetneq \R^n$, 则称为约束优化问题.</p>
<p>在很多情况下, 可以用一系列等式和不等式来约束:</p>
\begin{equation*}
x \in X \Longleftrightarrow \left\{\begin{array}{ll}
c_i(x) = 0,    &    i = 1, \cdots, m,\\
c_j(x) \geqslant 0,    &    j = 1, \cdots, n.
\end{array}\right.\end{equation*}
<p>在上述情况下, 问题 \eqref{equ:OptPro} 可以写成如下形式.</p>
\begin{equation*}
\min_{x \in \R^n} f(x),\quad \st \quad \begin{array}{ll}
c_i(x) = 0,    &    i = 1, \cdots, m,\\
c_j(x) \geqslant 0,    &    j = 1, \cdots, n.
\end{array}\end{equation*}
<ul>
<li>若要求最大值, 可以将其化为最小值.</li>
</ul>
\begin{equation*}
\max_{x \in \R^n} f(x),\quad \st x \in X \quad \Longleftrightarrow \quad \min_{x \in \R^n} -f(x),\quad \st x \in X.\end{equation*}
<ul>
<li><p>问题求解的复杂度取决于:</p>
<ul>
<li><p>$n$ 的大小, 指数倍增长;</p>
</li>
<li><p>$f$ 与 $X(c_i, c_j)$ 的形式.</p>
</li>
</ul>
</li>
<li><p>为什么关心优化问题的求解, 因为优化问题很重要, People optimize &amp; Nature optimize. 比如说投资风险最小, 收益最大. 物理化学中希望出现在能量最小状态或熵最小状态.</p>
</li>
</ul>
<h1 id="一些例子"><a href="#一些例子" class="headerlink" title="一些例子"></a>一些例子</h1><h2 id="求解线性方程组"><a href="#求解线性方程组" class="headerlink" title="求解线性方程组"></a>求解线性方程组</h2>\begin{equation*}
Ax = b,\end{equation*}
<p>其中 $A \in \R^{n \times n}$ 为对称正定矩阵, 求解 $x \in \R^n$. 在线性代数中已知</p>
\begin{equation*}
x = A^{-1}b = \dfrac{1}{\lrv{A}A^* b}.\end{equation*}
<p>但实际问题中 $n$ 的数量级为 $10^6 \sim 10^{10}$, $\lrv{A}$ 的算法复杂度为 $O(n!)$, 运算量极大, 需要转化为最优化问题.</p>
<p>构造</p>
\begin{equation*}
f : \R^n \to \R, \quad x \mapsto \dfrac{1}{2}x^\T Ax - b^\T x.\end{equation*}
<p>结论: 若 $x^* \in \R^n$ 是 $\displaystyle\min_{x \in \R^n} f(x)$ 的解, 则 $Ax^* = b$.</p>
<p><strong>证明</strong></p>
\begin{equation*}
0 = \nabla f(x^*) = \left(\left.\dfrac{\pa f(x)}{\pa x_1}\right|_{x = x^* }, \cdots, \left.\dfrac{\pa f(x)}{\pa x_n}\right|_{x = x^* } \right),\end{equation*}
<p>其中</p>
\begin{equation*}
\left.\dfrac{\pa f(x)}{\pa x_i}\right|_{x = x^* } = \dfrac{1}{2}\left(Ax^* \right)_i + \dfrac{1}{2}\left(x^{* \T} A\right)_i - b_i = \left( Ax^* \right)_i - b_i = 0,\end{equation*}
<p>于是 $\left( Ax^* \right)_i = b_i$, $i = 1, \cdots, n$, 进而 $Ax^* = b$.<span style="float:right;">$\square$</span></p>
<p><strong>习题 1.1</strong> 已知 $Ax = \lambda x$, $\lambda \in \R$, $A \in \R^{n \times n}$ 对称正定, 想求 $A$ 的最小特征值 $\lambda_1$, 构造一个最优化问题与之相对应.</p>
<p><strong>解</strong> 设</p>
\begin{equation*}
f(x) = \frac{x^\T Ax}{x^\T x},\quad x \in \R^n \setminus \lrb{0},\end{equation*}
<p>则 $f$ 的最小值为 $A$ 的最小特征值. 下面证明这个结论.</p>
<p>因为 $A$ 是实对称矩阵, 所以存在正交矩阵 $P$, 使得 $P^\T AP$ 是对角矩阵. 记该对角矩阵的主对角线上的元素为 $\lambda_1$, $\cdots$, $\lambda_n$, 不妨设其为从小到大的顺序 (交换 $P$ 的列顺序即可), 这些元素就是 $A$ 的特征值. $P$ 的列向量可以作为 $\R^n$ 的一组正交基, 记为 $x_1$, $\cdots$, $x_n$. $x$ 可以表示为 $x = \displaystyle\sum_{i = 1}^n \a_i x_i$, 有<br>\begin{align*}<br>x^\T Ax = (x, Ax) &amp;= \left( \displaystyle\sum_{i = 1}^n \a_i x_i, A\left( \displaystyle\sum_{i = 1}^n \a_i x_i \right) \right) = \left( \displaystyle\sum_{i = 1}^n \a_i x_i, \displaystyle\sum_{i = 1}^n \a_i Ax_i \right)\\<br>&amp;= \left( \displaystyle\sum_{i = 1}^n \a_i x_i, \displaystyle\sum_{i = 1}^n \a_i \lambda_i x_i \right) = \displaystyle\sum_{i = 1}^n \lambda_i \a_i^2 x_i^2 \geqslant \lambda_1 \displaystyle\sum_{i = 1}^n \a_i^2 x_i^2 = \lambda_1 x^\T x,<br>\end{align*}<br>其中 $(\cdot, \cdot)$ 表示内积. 于是 $f(x) \geqslant \lambda_1$, $x = \mu x_1$, $\mu \in \R \setminus \lrb{0}$ 时等号成立.<span style="float:right;">$\square$</span></p>
<h2 id="最优输送问题"><a href="#最优输送问题" class="headerlink" title="最优输送问题"></a>最优输送问题</h2><p>有四个工厂需要用煤, 用煤量分别为 $F_1$, $F_2$, $F_3$, $F_4$. 有三个煤矿, 矿产煤量分别为 $M_1$, $M_2$, $M_3$, 满足</p>
\begin{equation*}
M_1 + M_2 + M_3 = F_1 + F_2 + F_3 + F_4.\end{equation*}
<p>设 $x_{ij}$, $i = 1, 2, 3$, $j = 1, 2, 3, 4$ 为 $i$ 矿到 $j$ 厂的运煤量, $d_{ij}$ 为 $i$ 矿到 $j$ 厂的距离, $c$ 为单位运费. 总运费为</p>
\begin{equation*}
f(x) = \sum_{i = 1}^{3}\sum_{j = 1}^{4} cx_{ij}d_{ij}.\end{equation*}
<p>最优化问题为</p>
\begin{equation*}
\min_{x = x_{ij}} f(x),\quad \st \quad \begin{array}{ll}
\displaystyle\sum_{i = 1}^{3} x_{ij} = F_j,    &    j = 1, 2, 3, 4,\\
\displaystyle\sum_{j = 1}^{4} x_{ij} = M_i,    &    i = 1, 2, 3.
\end{array}\end{equation*}
<p>可以将这个问题写成矩阵形式</p>
\begin{equation*}
\min_{x \in \R^{12}} \tilde{c}^\T x, \quad \st \tilde{A}x = \tilde{b}.\end{equation*}
<p><strong>习题 1.2</strong> 写出该最优化问题中的向量 $\tilde{c}$, $\tilde{b}$ 以及矩阵 $\tilde{A}$.</p>
<p><strong>解</strong> 设</p>
\begin{equation*}
x = \left( x_{11}, x_{12}, x_{13}, x_{14}, x_{21}, x_{22}, x_{23}, x_{24}, x_{31}, x_{32}, x_{33}, x_{34} \right)^\T ,\end{equation*}
<p>则有<br>\begin{align*}<br>\tilde{c} &amp;= c \cdot \left( d_{11}, d_{12}, d_{13}, d_{14}, d_{21}, d_{22}, d_{23}, d_{24}, d_{31}, d_{32}, d_{33}, d_{34} \right)^\T ,\\<br>\tilde{b} &amp;= \left( F_1, F_2, F_3, F_4, M_1, M_2, M_3 \right)^\T ,\\<br>\tilde{A} &amp;= \begin{pmatrix}<br>1    &amp;    0    &amp;    0    &amp;    0    &amp;    1    &amp;    0    &amp;    0    &amp;    0    &amp;    1    &amp;    0    &amp;    0    &amp;    0\\<br>0    &amp;    1    &amp;    0    &amp;    0    &amp;    0    &amp;    1    &amp;    0    &amp;    0    &amp;    0    &amp;    1    &amp;    0    &amp;    0\\<br>0    &amp;    0    &amp;    1    &amp;    0    &amp;    0    &amp;    0    &amp;    1    &amp;    0    &amp;    0    &amp;    0    &amp;    1    &amp;    0\\<br>0    &amp;    0    &amp;    0    &amp;    1    &amp;    0    &amp;    0    &amp;    0    &amp;    1    &amp;    0    &amp;    0    &amp;    0    &amp;    1\\<br>1    &amp;    1    &amp;    1    &amp;    1    &amp;    0    &amp;    0    &amp;    0    &amp;    0    &amp;    0    &amp;    0    &amp;    0    &amp;    0\\<br>0    &amp;    0    &amp;    0    &amp;    0    &amp;    1    &amp;    1    &amp;    1    &amp;    1    &amp;    0    &amp;    0    &amp;    0    &amp;    0\\<br>0    &amp;    0    &amp;    0    &amp;    0    &amp;    0    &amp;    0    &amp;    0    &amp;    0    &amp;    1    &amp;    1    &amp;    1    &amp;    1<br>\end{pmatrix}.\tag*{$\square$}<br>\end{align*}</p>
<h2 id="人工神经网络"><a href="#人工神经网络" class="headerlink" title="人工神经网络"></a>人工神经网络</h2><p><img src="/img/OptimizationTheory/NN.png" srcset="/img/loading.gif" title="人工神经网络" alt="人工神经网络"></p>
<p>上图的人工神经网络构造了一个映射 $f : \R^2 \to \R$, $(x_1, x_2) \mapsto y$. 单个神经元如下图所示.<br><img src="/img/OptimizationTheory/Neu.png" srcset="/img/loading.gif" style="width:40%" title="神经元" alt="神经元"><br>它的作用为<br>\begin{align*}<br>    s &amp;= a_1w_1 + a_2w_2 + a_3w_3 + b,\\<br>    c &amp;= \dfrac{1}{1 + \e^{-s}}\quad (\text{Sigmoid 激活函数}).<br>\end{align*}</p>
<p><strong>习题 1.3</strong> 就上面这个简单的例子, 写出 $y = (x_1, x_2)$ 的显示形式.</p>
<p><strong>解</strong><br>\begin{align*}<br>y = \frac{1}{1 + \e^{-\left(\frac{w_7}{1 + \e^{-(x_1w_1 + x_2w_4 + b_1)}} + \frac{w_8}{1 + \e^{-(x_1w_2 + x_2w_5 + b_2)}} + \frac{w_9}{1 + \e^{-(x_1w_3 + x_2w_6 + b_3)}} + b_4\right)}}.\tag*{$\square$}<br>\end{align*}</p>
<p>如手写数字的识别, 将手写内容网格化成 $20 \times 20$ 的像素点, 若某个点被覆盖则取值为 $1$, 未被覆盖则取值为 $0$. 需要求解的函数为</p>
\begin{equation*}
h_{\bm w, \bm b} : \R^{400} \to \R^{10},\quad \bm \sg \mapsto \bm s,\end{equation*}
<p>其中 $\bm \sg$ 为手写内容, $\bm s$ 为 $0 \sim 9$ 数字的概率, $\bm w$, $\bm b$ 为神经网络的参数. 给一定数量的手写内容及相应的数字对神经网络进行训练, 如 $\left( \bm \sg_i, \bm s_i \right)_{i = 1, \cdots, 3000}$, 最优化问题为</p>
\begin{equation*}
\min_{\bm w, \bm b} \sum_{i = 1}^{3000} \lrvv{h_{\bm w, \bm b}\left(\bm \sg_i \right) - \bm s_i}_{l^2}^2,\end{equation*}
<p>求得的参数 $\bm w^*$, $\bm b^*$ 即为训练好的神经网络.</p>
<h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><p>将实际问题建模得到最优化问题, 设计算法去实现并分析, 求得最小 (大) 值.</p>
<ul>
<li><p>可计算建模</p>
</li>
<li><p>算法与分析</p>
</li>
</ul>

            <hr>
          </div>
          <br>
          <div>
            <div id="post-tag">
              
                <span>
                  <i class="iconfont icon-inbox"></i>
                  
                    <a class="hover-with-bg" href="/categories/Optimization%20Theory">Optimization Theory</a>
                    &nbsp;
                  
                </span>
              
              <span>
                <i class="iconfont icon-tag"></i>
                
                  <a class="hover-with-bg" href="/tags/Optimization%20Theory">Optimization Theory</a>
                
              </span>
            </div>
            
              <div id="post-note">
                <div><strong>本文作者：</strong><a href="/">Coumarin</a></div>
                <div><strong>本文链接：</strong><a href="https://kumarino.com/2020/02/OptimizationTheory1/">https://kumarino.com/2020/02/OptimizationTheory1/</a></div>
                <div><strong>版权声明：</strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="nofollow noopener noopener">CC BY-NC-SA 4.0 协议</a> 。转载请注明出处！</div>
              </div>
            
            
              <div id="post-nav" class="container">
                  <div class="row">
                    
                      <a href="/2020/03/OptimizationTheory2/" id="post-nav-prev" class="col">
                        <i class="fas fa-arrow-left"></i>
                        <span class="post-nav-title">一维最优化问题</span>
                      </a>
                    
                    
                      <a href="/2020/02/FourierAnalysis1/" id="post-nav-next" class="col">
                        <span class="post-nav-title">Fourier 级数和积分</span>
                        <i class="fas fa-arrow-right"></i>
                      </a>
                    
                  </div>
                </div>
            
          </div>
        </div>

        <!-- custom -->
        
          <div class="col-lg-7 mx-auto nopadding-md">
            <div class="container custom post-content mx-auto">
              <script> function setRewardWeChatPayURLQRCode() { document.getElementById("RewardURL").href = "wxp://f2f08LLmDyd3NUqRxtRO04K4IgirvP-KZNnP"; document.getElementById("RewardQRCode").src = "/img/RewardQRCode/WeChatReward.png"; }
function setRewardAlipayURLQRCode() { document.getElementById("RewardURL").href = "https://qr.alipay.com/FKX079043IEA1AEHJFJM84"; document.getElementById("RewardQRCode").src = "/img/RewardQRCode/Alipay.png"; }
function setRewardUnionPayURLQRCode() { document.getElementById("RewardURL").href = "https://qr.95516.com/00010002/01013347587199092167314704838465"; document.getElementById("RewardQRCode").src = "/img/RewardQRCode/UnionPay.png"; } </script> <div style="text-align:center"> <a href="wxp://f2f08LLmDyd3NUqRxtRO04K4IgirvP-KZNnP" id="RewardURL"><img src="/img/RewardQRCode/WeChatReward.png" class="rounded mx-auto d-block mt-5" style="width:150px; height:150px;" id="RewardQRCode"></a> <input type="radio" id="WeChatPay" name="RewardWay" checked="checked" onclick="setRewardWeChatPayURLQRCode()"> <label for="WeChatPay">微　信</label> <input type="radio" id="Alipay" name="RewardWay" onclick="setRewardAlipayURLQRCode()"> <label for="Alipay">支付宝</label> <input type="radio" id="UnionPay" name="RewardWay" onclick="setRewardUnionPayURLQRCode()"> <label for="UnionPay">云闪付</label> </div>
            </div>
          </div>
        

        <!-- Comments -->
        <div class="col-lg-10 mx-auto nopadding-md">
          <div class="container comments mx-auto" id="comments">
            
             <br><br>
              
              
  <div id="vcomments" style="margin: 0 auto;"></div>
  <script defer src="//cdn.jsdelivr.net/npm/valine@1.4.14/dist/Valine.min.js"></script>
  <script>
    var notify = 'true' == true ? true : false;
    var verify = 'true' == true ? true : false;
    var oldLoad = window.onload;
    window.onload = function () {
      new Valine({
        el: '#vcomments',
        app_id: "OkTuhtad3vyUmb84xrHDVKBS-gzGzoHsz",
        app_key: "YWTYjgIFkWu5cKAb0v2lyqig",
        placeholder: "说点什么",
        avatar: "retro",
        meta: ['nick', 'mail', 'link'],
        pageSize: "10"
      });
      oldLoad && oldLoad();
    };
  </script>
  <noscript>Please enable JavaScript to view the <a href="https://valine.js.org" target="_blank" rel="nofollow noopener noopener">comments
      powered by Valine.</a></noscript>


            
          </div>
        </div>

      </div>
    </div>
    <div class="d-none d-lg-block col-lg-2 toc-container">
      
  <div id="toc">
    <p class="h4"><i class="far fa-list-alt"></i>&nbsp;目录</p>
    <div id="tocbot"></div>
  </div>


    </div>
  </div>
</div>





    
  </main>
  
<div id="sidebar" class="sidebar-hide">
  <span class="sidebar-button sidebar-button-shift" id="toggle-sidebar" >
    <i class="fa fa-arrow-right on" aria-hidden="true"></i>
  </span>
  <div class="sidebar-overlay"></div>
  <div class="sidebar-intrude">
    <div class="sidebar-avatar">
      <img src="/img/icon/Icon.png" srcset="/img/icon/Icon.png" alt="avatar"/>
    </div>
    <div class="text-center sidebar-about">
      <p class="h3 sidebar-author">Coumarin</p>
      <p class="sidebar-subtitle">Coumarin</p>
      
        <a href="https://github.com/Quejiahao" class="h4" target="_blank">
          <i class="fab fa-github" aria-hidden="true"></i>
        </a>
        &nbsp;&nbsp;
      
        <a href="mailto:i@kumarino.com" class="h4" target="_blank">
          <i class="fas fa-envelope" aria-hidden="true"></i>
        </a>
        &nbsp;&nbsp;
      
    </div>
    <div class="sidebar-friend">
      <p class="h6 sidebar-friend-title">
        <span class="sidebar-label-left"><i class="fas fa-user-friends"></i></span>
        <span class="sidebar-label">友情链接</span>
      </p>
      <ul class="list-group">
        
          <a href="https://nicebowl.moe/" target="_blank">
            <li class="list-group-item">
              <i class="fas fa-quote-left"></i>&nbsp;
              NiceBowl
            </li>
          </a>
        
          <a href="https://www.hellosirui.com/" target="_blank">
            <li class="list-group-item">
              <i class="fas fa-quote-left"></i>&nbsp;
              HelloSirui
            </li>
          </a>
        
          <a href="https://tripedal-crow.github.io/" target="_blank">
            <li class="list-group-item">
              <i class="fas fa-quote-left"></i>&nbsp;
              BlackSun
            </li>
          </a>
        
    </ul>
    </div>
  </div>
</div>


  
    <a class="z-depth-1" id="scroll-top-button" href="#" role="button">
      <i class="fa fa-chevron-up scroll-top-arrow" aria-hidden="true"></i>
    </a>
  
  
    <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
  
  <div id="footerContent"  class="rgba-black-slight">
<footer class="pt-5">
  <div class="text-center py-3">
    <div class="footer-theme">
      <a href="https://hexo.io" target="_blank" rel="nofollow noopener noreferrer">Hexo</a> theme <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener noreferrer">Fluid</a> mod by <a href="https://github.com/qixa/hexo-theme-fluid-mod" target="_blank" rel="nofollow noopener noreferrer">Julydate</a>
    </div>

    
      <div class="footer-copyright">
        
          ©2020&nbsp;Coumarin
        
        
          
            <i class="iconfont icon-love"></i>
          
          <span>萌萌哒 <span id="runtime"></span> 天啦</span>
        
      </div>
    

    

    

    
      <!-- 一言 -->
      <div class="footer-hitokoto">
        <a id="hitokotoa" href="#" target="_blank" rel="nofollow noopener noreferrer">
          <span id="hitokoto"></span>
        </a>
      </div>
    
    
  </div>
</footer>
</div>
<!-- SCRIPTS -->
<script src="/lib/popper/popper.min.js" ></script>
<script src="https://cdn.staticfile.org/twitter-bootstrap/4.3.1/js/bootstrap.min.js" ></script>
<script src="https://cdn.staticfile.org/mdbootstrap/4.8.7/js/mdb.min.js" ></script>
<script src="/js/main.js" ></script>

  <script src="/js/lazyload.js" ></script>


  
    <script src="https://cdn.staticfile.org/tocbot/4.8.1/tocbot.min.js" ></script>
  
  <script src="/js/post.js" ></script>

<!-- Plugins -->

  <script src="/lib/prettify/prettify.min.js" ></script>
  <script type="text/javascript">
    $(document).ready(function () {
      $('pre').addClass('prettyprint  linenums');
      prettyPrint();
    })
  </script>


  <script src="https://cdn.staticfile.org/typed.js/2.0.9/typed.min.js" ></script>
  <script type="text/javascript">
    var typed = new Typed('#subtitle', {
      strings: [
        '  ',
        "最优化问题&nbsp;",
      ],
      cursorChar: "_",
      typeSpeed: 70,
      loop: false,
    });
    typed.stop();
    $(document).ready(function () {
      $(".typed-cursor").addClass("h2");
      typed.start();
    });
  </script>


  <script src="https://cdn.staticfile.org/anchor-js/4.2.0/anchor.min.js" ></script>
  <script type="text/javascript">
    anchors.options = {
      placement: "right",
      visible: "hover",
      
    };
    var el = "h1,h2,h3,h4,h5,h6".split(",");
    var res = [];
    for (item of el) {
      res.push(".markdown-body > " + item)
    }
    anchors.add(res.join(", "))
  </script>


  <script src="/js/local-search.js" ></script>
  <script type="text/javascript">
    var path = "/local-search.xml";
    var inputArea = document.querySelector("#local-search-input");
    inputArea.onclick = function () {
      getSearchFile(path);
      this.onclick = null
    }
  </script>


  <script src="https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.js" ></script>
  <script type="text/javascript">
  /* Fancybox */
  var setupFancybox = function () {
    $("#post img:not(.no-zoom img, img[no-zoom])").each(function() {
    var element = document.createElement("a");
      $(element).attr("data-fancybox", "gallery");
      $(element).attr("href", $(this).attr("src"));
      $(this).wrap(element);
    });
  };
  setupFancybox();
  </script>




<script>
	MathJax = {
		options: {
			renderActions: {
				addMenu: [0, '', ''],
			},
		},
		tex: {
			inlineMath: [
				["$", "$"]
			],
			displayMath: [
				["$$", "$$"],
				["\\[", "\\]"]
			],
			processEscapes: true,	// use \$ to produce a literal dollar sign
			processEnvironments: true,	// process \begin{xxx}...\end{xxx} outside math mode
			processRefs: true,	// process \ref{...} outside of math mode
			digits: /^(?:[0-9]+(?:\{,\}[0-9]{3})*(?:\.[0-9]*)?|\.[0-9]+)/,
			// pattern for recognizing numbers
			tags: "ams",	// or 'none' or 'all'
			tagSide: "right",	// side for \tag macros
			tagIndent: "0em",	// amount to indent tags
			useLabelIds: true,	// use label name rather than tag for ids
			multlineWidth: "85%",	// width of multline environment
			maxMacros: 10000,	// maximum number of macro substitutions per expression
			maxBuffer: 5 * 1024,	// maximum size for the internal TeX string (5K)
			baseURL:	// URL for use with links to tags (when there is a <base> tag in effect)
				(document.getElementsByTagName('base').length === 0) ?
					'' : String(document.location).replace(/#.*$/, ''),
			macros: {
				llt: "{\\left\\langle}",
				rgt: "{\\right\\rangle}",
				lc: "{\\left(}",
				rc: "{\\right)}",
				sep: "{\\textrm{-}}",	// 数学环境内使用 -, 而不是减号
				one: "{\\mathbbm{1}}",
				a: "{\\alpha}",
				A: "{~\\mathrm{A}}",
				AC: "{\\mathrm{AC}}",
				al: "{\\bm\\alpha}",
				ba: "{\\beta}",
				bA: "{\\bm A}",
				bbH: "{\\mathbb{H}}",
				bbS: "{\\mathbb{S}}",
				be: "{\\bm\\beta}",
				bh: "{\\bm h}",
				bs: ["{\\raisebox{.2em}{$#1$}\\left/\\raisebox{-.2em}{$#2$}\\right.}", 2],	// 斜线除号
				bm: ["{\\boldsymbol{#1}}", 1],
				bT: "{\\mathbb{T}}",
				bU: "{\\bm U}",
				BV: "{\\mathrm{BV}}",
				bx: "{\\bm x}",
				C: "{\\mathbb{C}}",	// 复数 C
				mca: "{\\mathcal}",
				cis: "{\\displaystyle\\bigcap_{k = 1}^\\infty}",
				cov: "{\\mathbf{Cov}}",
				csum: "{\\displaystyle\\sum_{k = 1}^\\infty}",
				cT: "{\\mathcal{T}}",
				cu: "{\\displaystyle\\bigcup_{k = 1}^\\infty}",
				curl: "{\\mathbf{curl}}",
				ch: "{\\mathrm{ch}~}",	// 双曲余弦
				diam: "{\\mathrm{diam}~}",
				de: "{\\delta}",
				dba: "{\\displaystyle\\bigcap}",	// 集合交
				dbigcap: "{\\displaystyle\\bigcap}",	// 集合交
				dbigcup: "{\\displaystyle\\bigcup}",	// 集合并
				dbu: "{\\displaystyle\\bigcup}",	// 集合并
				di: "{\\mathrm{d}}",	// 微分算符 d
				diff: "{\\mathrm{d}}",	// 微分算符 d
				dinf: "{\\displaystyle\\inf}",
				divr: "{\\mathbf{div}}",
				diag: "{\\mathrm{diag}}",	// 对角矩阵 diag
				dint: "{\\displaystyle\\int}",
				dlim: "{\\displaystyle\\lim}",
				dmax: "{\\displaystyle\\max}",
				dmin: "{\\displaystyle\\min}",
				dsum: "{\\displaystyle\\sum}",	// 求和号
				dsup: "{\\displaystyle\\sup}",
				dmmm: "{~\\mathrm{dm^3}}",
				D: "{\\Delta}",
				Di: "{\\mathrm{D}}",	// 微分算符 D
				e: "{\\mathrm{e}}",	// 自然对数的底数
				E: "{\\mathbb{E}}",	// \R 上赋予了欧氏拓扑
				et: "{\\bm\\eta}",
				ep: "{\\varepsilon}",
				fb: "{\\bm f}",
				g: "{~\\mathrm{g}}",
				ga: "{\\bm\\gamma}",
				geq: "{\\geqslant}",	// 大于或等于号, 下面一划是斜的
				grad: "{\\mathbf{grad}}",
				h: "~\\mathrm{h}}",
				heq: "{\\mathbin{\\widehat{=}}}",
				hin: "{\\mathbin{\\widehat{\\in}}}",
				H: "{\\mathrm{H}}",	// 共轭转置 H
				i: "{\\mathrm{i}}",	// 虚数单位 i
				id: "{\\mathrm{id}}",
				im: "{\\mathrm{Im}~}",
				I: "{\\bm{I}}",		// 单位矩阵 I
				Int: "{\\mathrm{Int}}",	// 内部
				J: "{~\\mathrm{J}}",
				JK: "{~\\mathrm{J}~\\cdot ~\\mathrm{K}^{-1}}",
				kJ: "{~\\mathrm{kJ}}",
				K: "{~\\mathrm{K}}",
				Ker: "{\\mathrm{Ker}}",
				ls: "{\\left[}",
				lb: "{\\left\\{}",
				ld: "{\\left.}",
				lllcdots: "{$\\cdots\\cdots\\cdots\\cdots\\cdots\\cdots\\cdots\\cdots\\cdots\\cdots\\cdots\\cdots\\cdots\\cdots\\cdots\\cdots\\cdots\\cdots\\cdots\\cdots$}",
				lrb: ["{\\left\\{ #1 \\right\\}}", 1],
				lrv: ["{\\left| #1 \\right|}", 1],
				lrvv: ["{\\left\\| #1 \\right\\|}", 1],
				lv: "{\\left|}",
				leq: "{\\leqslant}",	// 小于或等于号, 下面一划是斜的
				mf: ["{\\marginpar{\\footnotesize #1}}", 1],
				m: "{\\mathrm{m}}",
				mol: "{~\\mathrm{mol}}",
				mr: "{\\mathring}",
				ms: ["{\\marginpar{\\scriptsize #1}}", 1],
				N: "{\\mathbb{N}}",	// 自然数集 N
				om: "{\\omega}",
				oR: "{\\overline{\\mathbb{R}}}",
				ol: "{\\overline}",
				p: "{\\varphi}",
				proj: "{\\mathrm{proj}~}",	// 向量的投影 proj
				pa: "{\\partial}",
				Pa: "{~\\mathrm{Pa}}",
				pl: "{\\mathbin{/\\mskip-2.5mu/}}",
				Q: "{\\mathbb{Q}}",	// 有理数 Q
				rs: "{\\right]}",
				rb: "{\\right\\}}",
				rd: "{\\right.}",
				rv: "{\\right|}",
				rank: "{\\mathrm{rank}~}",	// 矩阵的秩 rank
				R: "{\\mathbb{R}}",	// 实数域 R
				rel: "{\\mathrm{rel}}",
				Rie: "{\\mathcal{R}}",	// 黎曼可积 R
				RP: "{\\mathbb{RP}}",	// 实数域 R
				RR: "{\\mathrm{R}}",
				s: "{~\\mathrm{s}}",
				scr: "{\\mathscr}",
				sg: "{\\sigma}",
				sgn: "{\\mathrm{sgn}}",	// 符号函数
				sh: "{\\mathrm{sh}}",	// 双曲正弦
				sn: "{\\mathrm{span}}",
				st: "{~\\textrm{s.t.}~}",
				sx: "{\\mathscr{X}}",
				supp: "{\\mathrm{supp}}",
				T: "{\\mathrm{T}}",	// 转置 T
				te: "{\\theta}",
				tr: "{\\mathrm{tr}~}",	// 矩阵的迹 tr
				tah: "{\\mathrm{th}~}",	// 双曲正切
				U: "{\\mathring{U}}",	// 去心邻域 U 上面有一圈
				V: "{~\\mathrm{V}}",
				wh: ["{\\widehat{ #1}}", 1],
				wt: "{\\widetilde}",
				xra: "{\\xrightarrow}",
				xle: "{\\xlongequal}",
				xLra: "{\\xLongrightarrow}",
				Z: "{\\mathbb{Z}}",	// 整数 Z
			},
			/*require: {
				allow: {
					base: false,
					'all-packages': false
				},
				defaultAllow: true,
			},*/
			/*tagFormat: {
				number: (n) => n.toString(),
				tag: (tag) => '(' + tag + ')',
				id: (id) => 'mjx-eqn-' + id.replace(/\s/g, '_'),
				url: (id, base) => base + '#' + encodeURIComponent(id),
			},*/
			/*color: {
				padding: '5px',
				borderWidth: '2px'
			},*/
			/*amsCd: {
				colspace: '5pt',
				rowspace: '5pt',
				harrowsize: '2.75em',
				varrowsize: '1.75em',
				hideHorizontalLabels: false
			},*/
		},
		chtml: {
			scale: 1,	// global scaling factor for all expressions
			minScale: .5,	// smallest scaling factor to use
			matchFontHeight: true,	// true to match ex-height of surrounding font
			mtextInheritFont: true,	// true to make mtext elements use surrounding font
			merrorInheritFont: true,	// true to make merror text use surrounding font
			mathmlSpacing: false,	// true for MathML spacing rules, false for TeX rules
			skipAttributes: {},	// RFDa and other attributes NOT to copy to the output
			exFactor: .5,	// default size of ex in em units
			displayAlign: "center",	// default for indentalign when set to 'auto'
			displayIndent: "0",	// default for indentshift when set to 'auto'
			// fontURL: 'https://cdn.staticfile.org/mathjax/3.0.5/es5/output/chtml/fonts/woff-v2',	// The URL where the fonts are found
			adaptiveCSS: true	// true means only produce CSS that is used in the processed equations
		},
		svg: {
			scale: 1,
			minScale: .5,
			matchFontHeight: true,
			mtextInheritFont: true,
			merrorInheritFont: true,
			mathmlSpacing: false,
			skipAttributes: {},
			exFactor: .5,
			displayAlign: 'center',
			displayIndent: '0',
			fontCache: 'local',	// or 'global' or 'none'
			localID: null,	// ID to use for local font cache (for single equation processing)
			internalSpeechTitles: true,	// insert <title> tags with speech content
			titleID: 0	// initial id number to use for aria-labeledby titles
		},
	};
</script>
<script src="https://cdn.staticfile.org/mathjax/3.0.5/es5/tex-chtml.js" ></script>



  <script src="https://cdn.jsdelivr.net/npm/smoothscroll-for-websites@1.4.10/SmoothScroll.min.js" ></script>
  <style type="text/css">
    html, body{
      scroll-behavior: smooth;
    }
    @media screen and (prefers-reduced-motion: reduce){
      html, body{
        scroll-behavior: auto;
      }
    }
  </style>



  <!-- 随机背景 -->
  <script src="https://cdn.staticfile.org/danielgindi-jquery-backstretch/2.1.15/jquery.backstretch.min.js" ></script>
  
  
    <!-- 本地随机背景 -->
    <script type="text/javascript">
      !function(){
        var random_bg_string = "https://img.xjh.me/desktop/bg/acg/64082849_p0.jpg,https://img.xjh.me/desktop/bg/acg/63946708_p0.jpg,https://img.xjh.me/desktop/bg/acg/59756207_p0.jpg,https://img.xjh.me/desktop/bg/acg/63374320_p0.jpg,https://img.xjh.me/desktop/bg/nature/59190594_p0.jpg,https://img.xjh.me/desktop/bg/acg/63093148_p0.jpg,https://img.xjh.me/desktop/bg/acg/62494753_p0.jpg,https://img.xjh.me/desktop/bg/acg/61749296_p0.jpg,";
        /* 去除图片链接组末尾逗号并转换为数组 */
        random_bg_string = random_bg_string.substring(0,random_bg_string.length-1);
        var random_bg_array = random_bg_string.split(",");
        /* 首张图片随机 */
        var n = Math.floor(Math.random() * random_bg_array.length);
        $(".banner-bg").backstretch(
          random_bg_array,
          {
            duration: 20 * 1000,
            fade: 2 * 1000,
            start: n,
            animateFirst: false
          }
        );
      }();
    </script>
  


  <script type="text/javascript">
  /*一言API*/
  $(document).ready(function(){
    getHitokoto();
  });
  function hitokoto(e) {
    $("#hitokoto").stop().fadeOut(function() {
      $("#hitokoto").html(e.hitokoto);
      var element = document.getElementById('hitokotoa');
      element.href = "https://hitokoto.cn/?uuid=" + e.uuid;
      $("#hitokoto").stop().fadeIn()
    })
  };
  function getHitokoto() {
    var e = ["a", "b", "c", "d", "e", "i"];
    fetch('https://v1.hitokoto.cn/?encode=json&charset=utf-8&c=' + e[Math.floor(Math.random() * e.length)],{
      cache: 'no-cache',
      method: 'GET',
      mode: 'cors'
    }).then(
      response => response.json()
    ).then(
      data => {
        hitokoto(data)
        setTimeout(getHitokoto, 1e4)
      }
    ).catch(
      console.error
    )
  };
  </script>


  <script async src="//cdn.jsdelivr.net/npm/busuanzi@2.3.0/bsz.pure.mini.js" ></script>
  


  
  
    <script type="text/javascript">
      //定义获取词语下标
      var a_idx = 0;
      jQuery(document).ready(function ($) {
        //点击body时触发事件
        $("body").click(function (e) {
          //需要显示的词语
          var a = new Array("富强", "民主", "文明", "和谐", "自由", "平等", "公正", "法治", "爱国", "敬业", "诚信", "友善");
          //设置词语给span标签
          var $i = $("<span/>").text(a[a_idx]);
          //下标等于原来下标+1  余 词语总数
          a_idx = (a_idx + 1) % a.length;
          //获取鼠标指针的位置，分别相对于文档的左和右边缘。
          //获取x和y的指针坐标
          var x = e.pageX, y = e.pageY;
          //在鼠标的指针的位置给$i定义的span标签添加css样式
          $i.css({
            "z-index": 999,
            "top": y - 20,
            "left": x,
            "position": "absolute",
            "font-weight": "bold",
            "color": rand_color()
          });
          // 随机颜色
          function rand_color() {
            return "rgb(" + ~~(255 * Math.random()) + "," + ~~(255 * Math.random()) + "," + ~~(255 * Math.random()) + ")"
          }
          //在body添加这个标签
          $("body").append($i);
          //animate() 方法执行 CSS 属性集的自定义动画。
          //该方法通过CSS样式将元素从一个状态改变为另一个状态。CSS属性值是逐渐改变的，这样就可以创建动画效果。
          //详情请看http://www.w3school.com.cn/jquery/effect_animate.asp
          $i.animate({
            //将原来的位置向上移动180
            "top": y - 180,
            "opacity": 0
            //1500动画的速度
          }, 1500, function () {
            //时间到了自动删除
            $i.remove();
          });
        });
      })
      ;
    </script>
  


<!-- Functions -->
<script type="text/javascript">
  /* 切换背景 */
  
  $("#background").removeClass("banner-bg");
  $("body").addClass("banner-bg");
  var postToTopHight = $("#board").offset().top;
  $(window).scroll(function () {
    var bgDisplay = false;
    var scrollHeight = document.body.scrollTop + document.documentElement.scrollTop;
    bgDisplay = scrollHeight >= postToTopHight;
    if(bgDisplay) {
      $('#background').removeClass("rgba-black-slight");
      $('#mainContent').removeClass("rgba-black-slight");
      $('#footerContent').removeClass("rgba-black-slight");
    } else {
      $('#background').addClass("rgba-black-slight");
      $('#mainContent').addClass("rgba-black-slight");
      $('#footerContent').addClass("rgba-black-slight");
    }
  });
  
</script>

  <script type="text/javascript">
    /*显示博客运行时间*/
    var blogRunTime = function () {
      var runTime = document.getElementById("runtime");
      var runtimeDate = "2020,02,20";
	    var createDate = new Date(runtimeDate);
	    var nowDate = new Date();
	    var dateLine = nowDate.getTime() - createDate.getTime();
	    var runDate = Math.floor(dateLine / (1000 * 60 * 60 * 24));
	    runTime.innerHTML = runDate;
    };
    $(document).ready(function(){
	    blogRunTime();
    });
  </script>


  <script type="text/javascript">
    /*窗口监视*/
    var originalTitle = document.title;
    window.onblur = function(){document.title = "你不爱我了 QAQ"};
    window.onfocus = function(){document.title = originalTitle};
  </script>


  <script type="text/javascript">
    /* 雪花效果 */
    console.log('雪花效果 code by kvv.me');
    ~function () {
      function t() {
          e.width = window.innerWidth,
          e.height = window.innerHeight,
          o = Math.round(window.innerWidth * window.innerHeight / 1e4)
      }
      function n() {
          var t = window.innerWidth
            , d = window.innerHeight
            , c = e.getContext("2d");
          c.clearRect(0, 0, t, d),
          c.fillStyle = "rgba(255, 255, 255, 0.7)",
          c.beginPath(),
          a += .01;
          for (var u = 0; o > u; u++) {
            var l = r[u];
            if (!l) {
              continue
            }
            ;c.moveTo(l.x, l.y),
            c.arc(l.x, l.y, l.radius, 0, 2 * Math.PI, !0),
            l.y += Math.cos(a) + l.radius / 2,
            l.x += Math.sin(a * l.direction),
            (l.x > t + 5 || -5 > l.x || l.y > d) && (u % 3 > 0 ? (r[u].x = Math.random() * t,
            r[u].y = -10) : Math.sin(a * l.direction) > 0 ? (r[u].x = -5,
            r[u].y = Math.random() * d) : (r[u].x = t + 5,
            r[u].y = Math.random() * d))
          }
          c.fill(),
          i(n)
      }
      var e = document.createElement("canvas")
        , i = requestAnimationFrame || msRequestAnimationFrame || function(t) {
          setTimeout(t, 16)
        }
      , a = 0
      , o = 0
      , r = [];
      t(),
      e.className = "snow",
      document.body.appendChild(e);
      for (var d = 0; o > d; d++)
        r.push({
            x: Math.random() * window.innerWidth,
            y: Math.random() * window.innerHeight,
            radius: 4 * Math.random() + 1,
            direction: 2 * Math.random() - .5
        });
      addEventListener("resize", t),
      i(n)
    }();
  </script>


 
 

<!-- 腾讯统计 -->
<script>
  var _mtac = {};
  (function() {
    var mta = document.createElement("script");
    mta.src = "//pingjs.qq.com/h5/stats.js?v2.0.4";
    mta.setAttribute("name", "MTAH5");
    mta.setAttribute("sid", "500711567");
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(mta, s);
  })();
</script>
 
 
 
 

  
</body>
</html>